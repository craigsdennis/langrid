<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by langrid pdd generator -->
<process
	name="bpelns:${bpel.processName}"
	location="bpel/${bpel.filename}"
	xmlns="http://schemas.active-endpoints.com/pdd/2004/09/pdd.xsd"
	xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing"
	xmlns:bpelns="${bpel.targetNamespace}"
>
	<partnerLinks>
<% for(partnerLink in bpel.partnerLinks) { %>
		<partnerLink name="${partnerLink.name}">
<%  if(partnerLink.partnerRole){
     endpoint = partnerLink.endpointReference;
%>
			<partnerRole
<%    if(partnerLink.partnerInvokeHandlerClass){ %>
				endpointReference="dynamic" invokeHandler="${partnerLink.partnerInvokeHandlerClass}"
			/>
<%    } else{ %>
				endpointReference="static"
			>
				<wsa:EndpointReference
					xmlns:partner="${endpoint.serviceName.namespaceURI}"
				>
					<wsa:Address>${endpoint.address}</wsa:Address>
					<wsa:ServiceName PortName="${endpoint.servicePortName}"
					>partner:${endpoint.serviceName.localPart}</wsa:ServiceName>
				</wsa:EndpointReference>
			</partnerRole>
<%    } %>
<%  } %>
<%  if(partnerLink.myRole){ %>
			<myRole
				service="${partnerLink.service}"
				allowedRoles=""
				binding="${binding}"
			/>
<%  } %>
		</partnerLink>
<% } %>
	</partnerLinks>

	<wsdlReferences>
<% for(wsdl in wsdls){ %>
		<wsdl
		  namespace="${wsdl.targetNamespace}"
		  location="project:${bpel.processName}/wsdl/${wsdl.filename}"
		/>
<% } %>
 	</wsdlReferences>
</process>
